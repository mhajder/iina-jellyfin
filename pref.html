<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Jellyfin Plugin Preferences</title>
    <style>
      * {
        box-sizing: border-box;
      }

      html {
        margin: 0;
        padding: 0;
      }

      body {
        padding: 16px;
        margin: 0;
        font-size: 13px;
        font-family:
          -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell,
          'Open Sans', 'Helvetica Neue', sans-serif;
      }

      p {
        margin: 0;
      }

      small,
      .small {
        font-size: 11px;
      }

      .secondary {
        color: rgba(0, 0, 0, 0.5);
      }

      .pref-section {
        margin-bottom: 12px;
      }

      .pref-help {
        margin-top: 2px;
      }

      .section-header {
        font-weight: bold;
        font-size: 14px;
        margin: 20px 0 10px 0;
        padding-bottom: 5px;
        border-bottom: 1px solid #e0e0e0;
      }

      .section-header:first-child {
        margin-top: 0;
      }
    </style>
  </head>

  <body>
    <div class="section-header">Authentication & Session</div>

    <div class="pref-section">
      <label>
        <input type="checkbox" data-type="bool" data-pref-key="auto_login_enabled" />
        Enable automatic login from Jellyfin URLs
      </label>
      <p class="small secondary pref-help">
        Automatically extract server URL and API key from Jellyfin URLs (like download links) and
        use them to auto-login to the sidebar browser. This eliminates the need to manually enter
        credentials when you've already accessed Jellyfin content.
      </p>
    </div>

    <div class="pref-section">
      <label>
        Session expiration (hours):
        <input
          type="number"
          data-pref-key="session_max_age_hours"
          min="1"
          max="168"
          value="24"
          style="width: 60px; margin-left: 8px"
        />
      </label>
      <p class="small secondary pref-help">
        How long to keep stored session data before requiring re-authentication. Default is 24
        hours, maximum is 168 hours (7 days).
      </p>
    </div>

    <div class="section-header">Media Playback</div>

    <div class="pref-section">
      <label>
        <input type="checkbox" data-type="bool" data-pref-key="auto_download_enabled" />
        Enable automatic subtitle download
      </label>
      <p class="small secondary pref-help">
        Automatically download subtitles when opening Jellyfin media URLs in IINA.
      </p>
    </div>

    <div class="pref-section">
      <label>
        <input type="checkbox" data-type="bool" data-pref-key="set_video_title" />
        Set video title from Jellyfin metadata
      </label>
      <p class="small secondary pref-help">
        Replace the default filename with the actual movie/show title from Jellyfin. Shows proper
        titles instead of generic "Download?api_key=..." names.
      </p>
    </div>

    <div class="pref-section">
      <label>
        <input type="checkbox" data-type="bool" data-pref-key="open_in_new_window" />
        Open media in new IINA window
      </label>
      <p class="small secondary pref-help">
        When playing media from Jellyfin browser, open it in a new IINA window instead of the
        current one. This allows you to keep browsing while watching.
      </p>
    </div>

    <div class="pref-section">
      <label>
        <input type="checkbox" data-type="bool" data-pref-key="sync_playback_progress" />
        Sync playback progress to Jellyfin
      </label>
      <p class="small secondary pref-help">
        Report your playback progress to Jellyfin while watching. Videos will be automatically
        marked as "watched" when you complete 95% of the content. This keeps your Jellyfin library
        in sync with what you've watched in IINA.
      </p>
    </div>

    <div class="section-header">TV Series Playback</div>

    <div class="pref-section">
      <label>
        <input type="checkbox" data-type="bool" data-pref-key="autoplay_next_episode" />
        Autoplay next episode
      </label>
      <p class="small secondary pref-help">
        When a TV episode ends, automatically play the next episode of the series if available. The
        player will create a playlist of all available episodes and play them sequentially.
      </p>
    </div>

    <div class="section-header">Subtitle Settings</div>

    <div class="pref-section">
      <label>
        Preferred languages:
        <input
          type="text"
          data-pref-key="preferred_languages"
          style="width: 100%; margin-top: 2px"
        />
      </label>
      <p class="small secondary pref-help">
        Comma-separated list of language codes to download (e.g.,
        <code>en,eng,pol,pl</code>). Use ISO 639-1 (2-letter) or ISO 639-2 (3-letter) language
        codes.
      </p>
    </div>

    <div class="pref-section">
      <label>
        <input type="checkbox" data-type="bool" data-pref-key="download_all_subtitles" />
        Download all available subtitles
      </label>
      <p class="small secondary pref-help">
        Download all subtitle tracks regardless of language preferences. When enabled, the preferred
        languages setting is ignored.
      </p>
    </div>

    <div class="section-header">Notifications & UI</div>

    <div class="pref-section">
      <label>
        <input type="checkbox" data-type="bool" data-pref-key="show_notifications" />
        Show on-screen notifications
      </label>
      <p class="small secondary pref-help">
        Display OSD messages when subtitles are downloaded or when errors occur.
      </p>
    </div>

    <div class="section-header">Developer & Debug</div>

    <div class="pref-section">
      <label>
        <input type="checkbox" data-type="bool" data-pref-key="debug_logging" />
        Enable debug logging
      </label>
      <p class="small secondary pref-help">
        Show detailed debug information in the console for troubleshooting. This will log parsing
        details, API responses, and other internal operations.
      </p>
    </div>
  </body>
</html>
